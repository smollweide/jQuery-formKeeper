!function(a){"use strict";FormKeeper.Extension.GooglePhoneNumber=Class.extend({errorMessage:{"default":"The value you entered must be a valid phone number for the region {{country}}.",invalidCountryCode:"Invalid country calling code",tooShort:"The string supplied is too short to be a phone number",tooLong:"The string supplied is too long to be a phone number",notANumber:"The string supplied did not seem to be a phone number",tooShortNsn:"The string supplied is too short to be a phone number",tooShortAfterIdd:"Phone number too short after IDD"},defaults:{country:"US"},init:function(){return this.utils=FormKeeper.Utils,this.options={},this},replaceInputValue:function(a,b){var c=this;return c.utils.isString(b)&&""!==b?(a.val(b),this):this},validateSelector:function(a){var b=this,c=a.data("form-keeper").googlePhoneNumber,d=b.utils.isTagName(a,"input"),e=b.utils.isTagName(a,"textarea");return d||e?b.validate(a,c):(b.utils.console("warn","FormKeeper.Extension.GooglePhoneNumber.validateSelector: the selector must be an input or textarea tag"),!0)},validate:function(b,c){var d,e,f,g,h,i,j,k,l=this,m="",n=b.val(),o=[],p={valid:!0},q=function(a){return l.utils.isUndefined(a)?{valid:!1}:{type:a,valid:!1}};if(l.options=a.extend({},l.defaults,c),l.suggestedValue=void 0,"object"!=typeof i18n)return l.utils.console("warn","FormKeeper.Extension.GooglePhoneNumber.validate: please make sure the google libphonenumber library is available (http://closure-compiler.appspot.com/code/jsc114874aa2350cb94ff48c095969141b/libphonenumber.js)"),p;d=i18n.phonenumbers.PhoneNumberUtil.getInstance();try{e=d.parseAndKeepRawInput(n,l.options.country),f=i18n.phonenumbers.PhoneNumberUtil.ValidationResult,g=d.isPossibleNumber(e)}catch(r){return q("notANumber")}if(!g){switch(d.isPossibleNumberWithReason(e)){case f.INVALID_COUNTRY_CODE:m="invalidCountryCode";break;case f.TOO_SHORT:m="tooShort";break;case f.TOO_LONG:m="tooLong";break;case f.TOO_SHORT_NSN:m="tooShortNsn";break;case f.TOO_SHORT_AFTER_IDD:m="tooShortAfterIdd";break;default:m="default"}return q(m)}for(h=new i18n.phonenumbers.AsYouTypeFormatter(l.options.country),i=n.length,k=0;i>k;++k)j=n.charAt(k),o.push(h.inputDigit(j));return l.replaceInputValue(b,o[o.length-1]),p}})}(FormKeeper.$);