!function(a){"use strict";FormKeeper.Config.bindAbleExtensions.push("Checkbox"),FormKeeper.Extension.Checkbox=Class.extend({errorMessage:{exactly:"Please select {{exactly}} checkbox.",max:"Please select up to {{max}} checkboxes.",min:"Please select at least {{min}} checkboxes.",range:"Please select between {{min}} and {{max}} checkboxes."},defaults:{},init:function(){return this.utils=FormKeeper.Utils,this.options={},this.$inputs={},this.inputCheckedCount=0,this},bind:function(b,c){var d='[data-form-keeper*=""checkbox""]';return c.off("change.formKeeper.checkbox").on("change.formKeeper.checkbox",d+' input[type="checkbox"]',function(){b.validateInput(a(this).closest(d))}),this},validateSelector:function(b){var c=this,d=b.data("form-keeper").checkbox,e=c.utils.isTagName(b,"input"),f=c.utils.isTagName(b,"textarea");return e||f?(c.utils.console("warn","FormKeeper.Extension.Checkbox.validateSelector: the selector can't be an input or textarea tag"),!0):(c.$inputs=a('input[type="checkbox"]',b),c.options=a.extend({},c.defaults,d),c.validate())},validate:function(){var a=this,b=a.utils,c=!b.isUndefined(a.options.min),d=!b.isUndefined(a.options.max),e=!b.isUndefined(a.options.exactly),f={valid:!0},g=function(a){return{type:a,valid:!1}};return a.$inputs.length<=0?f:(a.inputCheckedCount=a.$inputs.filter(":checked").length,e?a.validateExactly(a.options.exactly)?f:g("exactly"):c&&d?a.validateMin(a.options.min)&&a.validateMax(a.options.max)?f:g("range"):c?a.validateMin(a.options.min)?f:g("min"):d?a.validateMax(a.options.max)?f:g("max"):f)},validateExactly:function(a){var b=this;return b.utils.isNumber(a)?b.inputCheckedCount===a:!0},validateMin:function(a){var b=this;return b.utils.isNumber(a)?b.inputCheckedCount>=a:!0},validateMax:function(a){var b=this;return b.utils.isNumber(a)?b.inputCheckedCount<=a:!0}})}(FormKeeper.$);